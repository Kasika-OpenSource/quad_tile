# quad_tile

```ruby
QuadTile.tile_for_point(51.0, 1.0)
#=> 3493907048

# Build an object with min_lon, min_lat, max_lon, max_lon instance varialbes. In OSM
# this is an instance of BoundingBox
box = BoundingBox.new(min_lon: 0.99, min_lat: 50.99, max_lon: 1.01, max_lat: 51.01)

QuadTile.tiles_for_area(box)
#=> [3493906992, 3493906993, 3493906996, 3493906997, 3493907040, 3493907041, 3493907044, 3493907045, 3493906994, 3493906995, 3493906998, 3493906999, 3493907042, 3493907043, 3493907046, 3493907047, 3493907000, 3493907001, 3493907004, 3493907005, 3493907048, 3493907049, 3493907052, 3493907053, 3493907002, 3493907003, 3493907006, 3493907007, 3493907050, 3493907051, 3493907054, 3493907055]

QuadTile.sql_for_area(box, '')
#=> "( tile BETWEEN 3977144646 AND 3977144647 OR tile BETWEEN 3977144652 AND 3977144655 OR tile BETWEEN 3977144658 AND 3977144659 OR tile BETWEEN 3977144662 AND 3977144671 OR tile BETWEEN 3977144676 AND 3977144679 OR tile BETWEEN 3977144684 AND 3977144703 OR tile BETWEEN 3977144772 AND 3977144775 OR tile BETWEEN 3977144780 AND 3977144799 OR tile BETWEEN 3977144804 AND 3977144807 OR tile BETWEEN 3977144812 AND 3977144831 OR tile BETWEEN 3977145156 AND 3977145159 OR tile BETWEEN 3977145168 AND 3977145175 OR tile BETWEEN 3977145346 AND 3977145347 OR tile BETWEEN 3977145350 AND 3977145359 OR tile BETWEEN 3977145362 AND 3977145363 OR tile BETWEEN 3977145366 AND 3977145407 OR tile BETWEEN 3977145410 AND 3977145411 OR tile BETWEEN 3977145414 AND 3977145423 OR tile BETWEEN 3977145440 AND 3977145455 OR tile BETWEEN 3977145472 AND 3977145551 OR tile BETWEEN 3977145568 AND 3977145583 OR tile BETWEEN 3977145856 AND 3977145863 OR tile BETWEEN 3977145872 AND 3977145879 OR tile BETWEEN 3977145920 AND 3977145927 )"
```

```go
BoundingBox(1, 1, 1, 1)

QuadTile.new_for_point(1, 1)
QuadTile.sql_for_area(box, prefix)
```

box = BoundingBox.new(0.99, 50.99, 1.01, 51.01)
QuadTile.tiles_for_area(box)
[3493906992, 3493906993, 3493906996, 3493906997, 3493907040, 3493907041, 3493907044, 3493907045, 3493906994, 3493906995, 3493906998, 3493906999, 3493907042, 3493907043, 3493907046, 3493907047, 3493907000, 3493907001, 3493907004, 3493907005, 3493907048, 3493907049, 3493907052, 3493907053, 3493907002, 3493907003, 3493907006, 3493907007, 3493907050, 3493907051, 3493907054, 3493907055]

QuadTile.sql_for_area(box,'')
=> "( tile BETWEEN 3493906992 AND 3493907007 OR tile BETWEEN 3493907040 AND 3493907055 )"

http://localhost:8000/api/0.6/map?bbox=139.754548,35.5821521,139.8442411,35.6285935

box = BoundingBox.new(139.754548,35.5821521,139.8442411,35.6285935)
QuadTile.tiles_for_area(box)
[3977144646, 3977144647, 3977144658, 3977144659, 3977144662, 3977144663, 3977145346, 3977145347, 3977145350, 3977145351, 3977145362, 3977145363, 3977145366, 3977145367, 3977145410, 3977145411, 3977145414, 3977145415, 3977144652, 3977144653, 3977144664, 3977144665, 3977144668, 3977144669, 3977145352, 3977145353, 3977145356, 3977145357, 3977145368, 3977145369, 3977145372, 3977145373, 3977145416, 3977145417, 3977145420, 3977145421, 3977144654, 3977144655, 3977144666, 3977144667, 3977144670, 3977144671, 3977145354, 3977145355, 3977145358, 3977145359, 3977145370, 3977145371, 3977145374, 3977145375, 3977145418, 3977145419, 3977145422, 3977145423, 3977144676, 3977144677, 3977144688, 3977144689, 3977144692, 3977144693, 3977145376, 3977145377, 3977145380, 3977145381, 3977145392, 3977145393, 3977145396, 3977145397, 3977145440, 3977145441, 3977145444, 3977145445, 3977144678, 3977144679, 3977144690, 3977144691, 3977144694, 3977144695, 3977145378, 3977145379, 3977145382, 3977145383, 3977145394, 3977145395, 3977145398, 3977145399, 3977145442, 3977145443, 3977145446, 3977145447, 3977144684, 3977144685, 3977144696, 3977144697, 3977144700, 3977144701, 3977145384, 3977145385, 3977145388, 3977145389, 3977145400, 3977145401, 3977145404, 3977145405, 3977145448, 3977145449, 3977145452, 3977145453, 3977144686, 3977144687, 3977144698, 3977144699, 3977144702, 3977144703, 3977145386, 3977145387, 3977145390, 3977145391, 3977145402, 3977145403, 3977145406, 3977145407, 3977145450, 3977145451, 3977145454, 3977145455, 3977144772, 3977144773, 3977144784, 3977144785, 3977144788, 3977144789, 3977145472, 3977145473, 3977145476, 3977145477, 3977145488, 3977145489, 3977145492, 3977145493, 3977145536, 3977145537, 3977145540, 3977145541, 3977144774, 3977144775, 3977144786, 3977144787, 3977144790, 3977144791, 3977145474, 3977145475, 3977145478, 3977145479, 3977145490, 3977145491, 3977145494, 3977145495, 3977145538, 3977145539, 3977145542, 3977145543, 3977144780, 3977144781, 3977144792, 3977144793, 3977144796, 3977144797, 3977145480, 3977145481, 3977145484, 3977145485, 3977145496, 3977145497, 3977145500, 3977145501, 3977145544, 3977145545, 3977145548, 3977145549, 3977144782, 3977144783, 3977144794, 3977144795, 3977144798, 3977144799, 3977145482, 3977145483, 3977145486, 3977145487, 3977145498, 3977145499, 3977145502, 3977145503, 3977145546, 3977145547, 3977145550, 3977145551, 3977144804, 3977144805, 3977144816, 3977144817, 3977144820, 3977144821, 3977145504, 3977145505, 3977145508, 3977145509, 3977145520, 3977145521, 3977145524, 3977145525, 3977145568, 3977145569, 3977145572, 3977145573, 3977144806, 3977144807, 3977144818, 3977144819, 3977144822, 3977144823, 3977145506, 3977145507, 3977145510, 3977145511, 3977145522, 3977145523, 3977145526, 3977145527, 3977145570, 3977145571, 3977145574, 3977145575, 3977144812, 3977144813, 3977144824, 3977144825, 3977144828, 3977144829, 3977145512, 3977145513, 3977145516, 3977145517, 3977145528, 3977145529, 3977145532, 3977145533, 3977145576, 3977145577, 3977145580, 3977145581, 3977144814, 3977144815, 3977144826, 3977144827, 3977144830, 3977144831, 3977145514, 3977145515, 3977145518, 3977145519, 3977145530, 3977145531, 3977145534, 3977145535, 3977145578, 3977145579, 3977145582, 3977145583, 3977145156, 3977145157, 3977145168, 3977145169, 3977145172, 3977145173, 3977145856, 3977145857, 3977145860, 3977145861, 3977145872, 3977145873, 3977145876, 3977145877, 3977145920, 3977145921, 3977145924, 3977145925, 3977145158, 3977145159, 3977145170, 3977145171, 3977145174, 3977145175, 3977145858, 3977145859, 3977145862, 3977145863, 3977145874, 3977145875, 3977145878, 3977145879, 3977145922, 3977145923, 3977145926, 3977145927]
QuadTile.sql_for_area(box,'')
"( tile BETWEEN 3977144646 AND 3977144647 OR tile BETWEEN 3977144652 AND 3977144655 OR tile BETWEEN 3977144658 AND 3977144659 OR tile BETWEEN 3977144662 AND 3977144671 OR tile BETWEEN 3977144676 AND 3977144679 OR tile BETWEEN 3977144684 AND 3977144703 OR tile BETWEEN 3977144772 AND 3977144775 OR tile BETWEEN 3977144780 AND 3977144799 OR tile BETWEEN 3977144804 AND 3977144807 OR tile BETWEEN 3977144812 AND 3977144831 OR tile BETWEEN 3977145156 AND 3977145159 OR tile BETWEEN 3977145168 AND 3977145175 OR tile BETWEEN 3977145346 AND 3977145347 OR tile BETWEEN 3977145350 AND 3977145359 OR tile BETWEEN 3977145362 AND 3977145363 OR tile BETWEEN 3977145366 AND 3977145407 OR tile BETWEEN 3977145410 AND 3977145411 OR tile BETWEEN 3977145414 AND 3977145423 OR tile BETWEEN 3977145440 AND 3977145455 OR tile BETWEEN 3977145472 AND 3977145551 OR tile BETWEEN 3977145568 AND 3977145583 OR tile BETWEEN 3977145856 AND 3977145863 OR tile BETWEEN 3977145872 AND 3977145879 OR tile BETWEEN 3977145920 AND 3977145927 )"
